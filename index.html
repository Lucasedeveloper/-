<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‚ô•Ô∏è‚ÑπÔ∏èüÜñüü•</title>

<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">

<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-SXK2YYDSE9"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-SXK2YYDSE9');
</script>

<style>
body{
  margin:0;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:radial-gradient(circle at top,#1a002a,#000 70%);
  overflow:hidden;
  font-family:'Segoe UI',sans-serif;
}

.gift-screen{
  position:fixed;
  inset:0;
  display:flex;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  background:radial-gradient(circle,#2a0040,#000 80%);
  z-index:9999;
  cursor:pointer;
  color:white;
  font-size:18px;
}

.gift{
  font-size:100px;
  animation:float 2s infinite ease-in-out;
}

@keyframes float{
  0%,100%{transform:translateY(0);}
  50%{transform:translateY(-15px);}
}

canvas{ position:fixed; inset:0; z-index:0; }

.container{ position:relative; width:480px; height:580px; z-index:1; }

.heart{
  width:100%;
  height:100%;
  animation:pulse 2.5s infinite ease-in-out;
  filter:drop-shadow(0 0 40px rgba(255,0,120,.6));
}

@keyframes pulse{
  0%,100%{transform:scale(1);}
  50%{transform:scale(1.05);}
}

.content{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  width:290px;
  text-align:center;
  display:flex;
  flex-direction:column;
  gap:24px;
}

.text{ color:#fff; font-size:15px; line-height:1.75; }

.highlight{
  font-weight:900;
  font-size:20px;
  text-shadow:0 0 12px currentColor,0 0 30px currentColor;
}

.final{
  display:flex;
  justify-content:center;
  gap:14px;
  min-height:82px;
  position:relative;
  top:-8px;
}

.final span{
  font-size:58px;
  font-weight:900;
  opacity:0;
  transform:scale(.6);
  transition:opacity .6s ease, transform .6s ease;
}

.glow{ animation:glow 1.4s infinite alternate; }

@keyframes glow{
  from{filter:brightness(1);}
  to{filter:brightness(2.4);}
}

.signature{
  margin-top:25px;
  color:#00ffff;
  font-family:'Dancing Script',cursive;
  font-size:42px;
  font-weight:700;
  letter-spacing:2px;
  opacity:0;
  min-height:55px;
  text-shadow:0 0 15px rgba(255,179,209,.6);
  transition:opacity .8s ease;
}

.signature.show{opacity:1;}

.signature span{
  display:inline-block;
  opacity:0;
  transform:translateY(10px);
  animation:signaturePop .5s forwards;
}

@keyframes signaturePop{
  to{opacity:1;transform:translateY(0);}
}

.music-popup{
  position:fixed;
  top:30px;
  left:50%;
  transform:translateX(-50%) translateY(-20px);
  background:rgba(0,0,0,.75);
  padding:12px 22px;
  border-radius:30px;
  color:#fff;
  font-size:14px;
  letter-spacing:1px;
  opacity:0;
  z-index:10000;
  backdrop-filter:blur(6px);
  transition:all .6s ease;
}

.music-popup.show{
  opacity:1;
  transform:translateX(-50%) translateY(0);
}
</style>
</head>
<body>

<div class="gift-screen" id="giftScreen">
<div class="gift">üéÅ</div>
Clique para abrir
</div>

<canvas id="particles"></canvas>
<audio id="bg-music"></audio>
<div class="music-popup" id="musicPopup"></div>

<div class="container">
<svg class="heart" viewBox="0 0 512 512">
<defs>
<radialGradient id="g" cx="50%" cy="40%" r="70%">
<stop offset="0%" stop-color="#ff8fcf"/>
<stop offset="50%" stop-color="#ff2d75"/>
<stop offset="100%" stop-color="#b3003c"/>
</radialGradient>
</defs>
<path d="M256 460 C120 350,40 260,40 170 C40 90,100 50,160 50 C210 50,240 80,256 110 C272 80,302 50,352 50 C412 50,472 90,472 170 C472 260,392 350,256 460Z" fill="url(#g)"/>
</svg>

<div class="content">
<div class="text" id="typed"></div>
<div class="final" id="final"></div>
<div class="signature" id="signature"></div>
</div>
</div>

<script>

/* ===== PLAYLIST ===== */

const playlist=[
"Die_with_a_smile.mp3",
"Meu_abrigo.mp3"
];

const music=document.getElementById("bg-music");
const musicPopup=document.getElementById("musicPopup");

function shuffle(array){
for(let i=array.length-1;i>0;i--){
const j=Math.floor(Math.random()*(i+1));
[array[i],array[j]]=[array[j],array[i]];
}
return array;
}

let savedOrder=JSON.parse(localStorage.getItem("musicOrder"));
let currentIndex=parseInt(localStorage.getItem("musicIndex"));
let lastTrack=localStorage.getItem("lastTrack");

if(!savedOrder){
savedOrder=shuffle([...playlist]);
currentIndex=0;
}

if(isNaN(currentIndex) || currentIndex>=savedOrder.length){
let newOrder;
do{
newOrder=shuffle([...playlist]);
}while(lastTrack && newOrder[0]===lastTrack && playlist.length>1);
savedOrder=newOrder;
currentIndex=0;
}

function playMusic(index){
music.src=savedOrder[index];
music.play();
showMusicPopup(savedOrder[index]);
localStorage.setItem("musicIndex",index+1);
localStorage.setItem("musicOrder",JSON.stringify(savedOrder));
localStorage.setItem("lastTrack",savedOrder[index]);
}

function showMusicPopup(track){
const name=track.replace(".mp3","").replace(/_/g," ");
musicPopup.textContent="üéµ Agora est√° tocando: "+name;
musicPopup.classList.remove("show");
setTimeout(()=>musicPopup.classList.add("show"),100);
setTimeout(()=>musicPopup.classList.remove("show"),4000);
}

music.addEventListener("ended",()=>{
let nextIndex=parseInt(localStorage.getItem("musicIndex"));
let order=JSON.parse(localStorage.getItem("musicOrder"));
let last=localStorage.getItem("lastTrack");

if(isNaN(nextIndex) || nextIndex>=order.length){
let newOrder;
do{
newOrder=shuffle([...playlist]);
}while(last && newOrder[0]===last && playlist.length>1);
order=newOrder;
nextIndex=0;
localStorage.setItem("musicOrder",JSON.stringify(order));
}

playMusic(nextIndex);
});

const giftScreen=document.getElementById("giftScreen");

giftScreen.addEventListener("click",()=>{
giftScreen.style.display="none";
music.volume=0.6;
playMusic(currentIndex);
setTimeout(type,1500);
});

/* ===== MENSAGEM ===== */

const msg=[
"Imagina se voc√™ soubesse o quanto eu penso em voc√™ nos momentos mais aleat√≥rios do meu dia, j√°",
"Nem tento esconder o quanto te adoro,",
"Gosto desse seu jeito leve, divertido e natural sendo voc√™ mesma e",
"Realmente, fico feliz s√≥ de ver o seu nome aparecer na minha tela, e quando te vejo ent√£o? Meu cora√ß√£o acelera!",
"Entre tantos caminhos, o meu preferido √© o que me leva at√© perto de voc√™ e saiba que",
"De um jeito calmo e sincero, voc√™ se tornou algu√©m muito especial para mim.",
"‚ô•"
];

const typed=document.getElementById("typed");
const finalBox=document.getElementById("final");
const signatureBox=document.getElementById("signature");

let caps=[],line=0,char=0;

function type(){
if(line<msg.length){
if(char<msg[line].length){
const span=document.createElement("span");
span.textContent=msg[line][char];
if(char===0&&line<6){
const colors=["#ff4dff","#c084fc","#7df9ff","#e66cfb","#ffd166","#2336e1"];
span.style.color=colors[line];
span.className="highlight";
caps.push(span);
}
typed.appendChild(span);
char++;
setTimeout(type,55);
}else{
typed.appendChild(document.createElement("br"));
line++;char=0;
setTimeout(type,280);
}
}else{
setTimeout(animateINGRED,1400);
}
}

function animateINGRED(){
const word="INGRED";
const targets=[];
for(let i=0;i<word.length;i++){
const t=document.createElement("span");
t.textContent=word[i];
const color=getComputedStyle(caps[i]).color||"#ff8fcf";
t.style.color=color;
t.style.textShadow=`0 0 10px ${color},0 0 25px ${color},0 0 45px ${color}`;
finalBox.appendChild(t);
targets.push(t);
}
setTimeout(()=>{
caps.forEach((original,i)=>{
if(!original)return;
const start=original.getBoundingClientRect();
const end=targets[i].getBoundingClientRect();
const clone=original.cloneNode(true);
document.body.appendChild(clone);
clone.style.position="fixed";
clone.style.left=start.left+"px";
clone.style.top=start.top+"px";
clone.style.margin="0";
clone.style.zIndex="100";
clone.style.transition="all 2.3s cubic-bezier(0.25,0.8,0.25,1)";
const dx=end.left-start.left+8;
const dy=end.top-start.top;
requestAnimationFrame(()=>clone.style.transform=`translate(${dx}px,${dy}px) scale(2.8)`);
setTimeout(()=>{
clone.remove();
targets[i].style.opacity=1;
targets[i].style.transform="scale(1)";
targets[i].classList.add("glow");
},2350);
});
setTimeout(showSignature,3200);
},300);
}

function showSignature(){
signatureBox.classList.add("show");
signatureBox.innerHTML="";
const text="Lucas ";
let index=0;
function typeLetter(){
if(index<text.length){
const span=document.createElement("span");
span.textContent=text[index];
signatureBox.appendChild(span);
index++;
setTimeout(typeLetter,160);
}else{
const heart=document.createElement("span");
heart.textContent="‚ù§";
heart.style.color="#ff0000";
heart.style.marginLeft="6px";
signatureBox.appendChild(heart);
}
}
typeLetter();
}

/* ===== PART√çCULAS ===== */

const canvas=document.getElementById("particles");
const ctx=canvas.getContext("2d");
let w,h,parts=[];

function resize(){
w=canvas.width=window.innerWidth;
h=canvas.height=window.innerHeight;
}
resize();
window.addEventListener("resize",resize);

for(let i=0;i<95;i++){
parts.push({x:Math.random()*w,y:Math.random()*h,r:Math.random()*2.2+0.8,s:Math.random()*0.4+0.25});
}

function draw(){
ctx.clearRect(0,0,w,h);
ctx.fillStyle="rgba(255,255,255,0.85)";
parts.forEach(p=>{
ctx.globalAlpha=0.75;
ctx.beginPath();
ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
ctx.fill();
p.y-=p.s;
if(p.y<0)p.y=h;
});
requestAnimationFrame(draw);
}
draw();

</script>
</body>
</html>